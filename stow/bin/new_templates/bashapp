#!/usr/bin/env bash

set -euo pipefail

# -----------------------------------------------------------------------------
# CONFIG
# -----------------------------------------------------------------------------

__VERSION="0.1"
__NAME="Template App"
__FILE=$(basename "$0")
readonly __VERSION __FILE __NAME

# -----------------------------------------------------------------------------
# PRIVATE interfaces
# -----------------------------------------------------------------------------

function _display-hello {
  echo "Hello, $*!"
}

# -----------------------------------------------------------------------------
# PUBLIC interfaces
# -----------------------------------------------------------------------------

function prepend-hello { # Prepend Hello to what you type, ex: `prepend-hello John`
  _display-hello "$@"
  ##cursor##
}
# -----------------------------------------------------------------------------

function help { # Display this helpful help information
  local functions
  functions=$(grep -E "^function [^_]*?$" "$0" | sed -E "s/ *{ *# */#/g" | sed -E "s/^function /   /g" | sort)
  echo "$__NAME v $__VERSION"
  echo "Usage: $__FILE <task> [args]"
  echo ""
  echo "Tasks:"
  echo "$functions" | column -t -s '#'
  echo ""
}

"${@:-help}"
