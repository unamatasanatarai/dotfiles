#!/usr/bin/env bash

set -euo pipefail

if [ "${1:-}" = "" ]; then
  echo "usage: $(basename "$0") Title of the lesson learnt"
  exit 1
fi

title=$*
file=${title,,}
file=${file// /-}-$(date +"%Y%m%d-%H%M").md
path="$HOME/dev/lessons/journal/$file"
touch "$path"
echo "# $title"$'\n\n' > "$path"
$EDITOR "$path" -c "norm: cd ~/dev/lessons/journal" -c "norm G"
