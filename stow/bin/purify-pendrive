#!/bin/bash

# List of macOS and Windows-specific files and directories to delete
FILES_TO_DELETE=("._*" ".DS_Store" "Thumbs.db" "desktop.ini" ".fseventsd" ".Spotlight-V100" ".Trashes" ".apdisk" "\$RECYCLE.BIN" "System Volume Information" ".Trash-1000")

echo "WARNING: This script will recursively delete the following macOS and Windows-specific files and directories from the current directory:"
for file in "${FILES_TO_DELETE[@]}"; do
    echo "- $file"
done
echo "This action cannot be undone. Type 'YES' (case sensitive) to proceed, or any other key to abort."

read -r confirmation

if [ "$confirmation" != "YES" ]; then
    echo "Operation aborted."
    exit 1
fi

# Delete matching FILES first
for pattern in "${FILES_TO_DELETE[@]}"; do
    echo "Searching for files matching: $pattern"
    find . -type f -name "$pattern" -exec rm -v {} +
done

# Then delete matching DIRECTORIES
for pattern in "${FILES_TO_DELETE[@]}"; do
    echo "Searching for directories matching: $pattern"
    find . -type d -name "$pattern" -exec rm -rfv {} +
done

echo "Cleanup complete."

