#!/usr/bin/env bash

set -euo pipefail

pwd="${HOME}/bin/spotlight_commands"
sedpwd=$(echo "$pwd" | sed "s/\//\\\\\//g")
COMMAND=$(
  find "$pwd" -type f ! -iname ".*" \
    | sed "s/$sedpwd//g" \
    | sed "s/^\///g" \
    | uniq \
    | sort \
    | fzf \
      --prompt="►▶ " \
      --pointer="► " \
      --no-info \
      --layout=reverse \
      --border=sharp
)

./"$pwd"/"$COMMAND"
